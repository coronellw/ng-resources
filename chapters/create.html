<h2>{{title}}</h2>
<p>{{description}}</p>

<form ng-submit="save()" class="form-horizontal" id="saveForm" name="saveForm">
	<div class="col-md-6">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 class="panel-title">Información básica</h3>
			</div>
			<div class="panel-body">
				<div class="form-group">
					<label for="nombres" class="col-md-6 control-label">Nombres:</label>
					<div class="col-md-6">
						<input 	id="nombres" 
								type="text" 
								class="form-control"
								ng-model="persona.nombres">
					</div>
				</div>

				<div class="form-group">
					<label for="apellidos" class="col-md-6 control-label">Apellidos:</label>
					<div class="col-md-6">
						<input 	id="apellidos" 
								type="text"
								class="form-control"
								ng-model="persona.apellidos">
					</div>
				</div>

				<div class="form-group">
					<label for="observaciones" class="col-md-6 control-label">Observaciones:</label>
					<div class="col-md-6">
						<textarea 	name="observaciones" 
									class="form-control"
									ng-model="persona.observaciones" 
									id="observaciones"  
									rows="5"
									ng-focus = "focused=true"
									ng-blur = "focused=false"
									ng-change="calcRemaining()"></textarea>
						<span ng-show="focused" class="pull-right"><label for="remaining">Quedan:</label> <span id="remaining">{{remaining}}</span></span>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="col-md-6" ng-controller="ContactoController">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 class="panel-title">Información de contacto</h3>
			</div>
			<div class="panel-body">
				<table ng-hide="isEmpty()" class="table">
					<thead>
						<tr>
							<th>id</th>
							<th>Numero</th>
							<th>Tipo</th>
							<th>Opciones</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="contacto in persona.contactos">
							<td>{{contacto.id}}</td>
							<td>{{contacto.numero}}</td>
							<td>{{contacto.tipo}}</td>
							<td>
								<a ng-click="removeContacto($index)" class="glyphicon glyphicon-minus-sign" title="Borrar este contacto"></a>
							</td>
						</tr>
					</tbody>
				</table>
		
				<div class="form-group">
					<label for="newNumber" class="col-md-4 control-label">N&uacute;mero: </label>
					
					<div class="col-md-8">
						<div id="newNumber" class="input-group">
							<input ng-model="numero" type="text" class="form-control">
							<div class="input-group-btn">
								<button class="btn btn-info dropdown-toggle" data-toggle="dropdown">
									{{tipo.nombre}} <span class="caret"></span>
								</button>
								<ul class="dropdown-menu dropdown-menu-right" role="menu">
									<li ng-repeat="tc in tiposContacto">
										<a ng-click="setSeleccion($index)">{{tc.nombre}}</a>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
				<div class="form-group">
					<div class="col-md-12">
						<button type="button" class="btn btn-success pull-right" ng-click="addContacto()">
							<i class="glyphicon glyphicon-plus-sign"></i> Agregar
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	<br>
	<div class="text-center row col-md-12">
		<button class="btn btn-primary">Guardar</button>
	</div>
</form>
{{information}}
